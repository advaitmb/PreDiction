<html>

<body>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <style>
        body {
            background: rgb(228, 236, 245);
            padding: 20px;
        }

        baody * {
            color: hsla(210, 100%, 100%, 0.88) !important;
            background: hsla(210, 100%, 50%, 0.33) !important;
            outline: 0.25rem solid hsla(210, 100%, 100%, 0.50) !important;
        }

        article {

            display: grid;
            grid-template-columns: 1fr 0.5in [start] 1.23in [count] 5in [submitcol] 1.25in [end] 0.5in 1fr;
            grid-template-rows: [boom] 1fr 0.1in [submit] 0in [boomend];
            /* height: 100vh; */
            padding: 0.5in 0;

        }

        article * {
            background: white;
            grid-column: start / end;
            grid-row: boom / boomend;
            padding: 4vw;
            padding-top: 5vw;
            padding-bottom: 5vw;
            resize: none;
            border: none;
            font-family: 'Merriweather',
                serif;
            font-size: small;
        }

        :focus {
            outline: 0px;
        }

        div {
            display: grid;
            grid-template-columns: 2.2vw [a] 1fr [b] 5in [c] 1fr [d] 0vw;
            padding: 0.1in;
            z-index: 2;
            align-self: end;
            border-top: 0.1px solid rgba(20, 63, 112, 0.1);
            background-color: rgba(238, 243, 245, 0.281);
            text-align: right;
            margin: 0%;
        }

        div button {
            grid-column: c / d;
            padding: 6px 0px 6px 0px;
            margin: 2px;
            margin-left: 26px;
            margin-right: 6px;
            font-family: 'Inter', sans-serif;
            color: rgba(20, 63, 112, 0.9);
            font-weight: bold;
            border-radius: 3px;
            font-size: 8.5px;
            text-align: center;
            text-transform: uppercase;
            text-decoration: none;
            background-color: rgb(199, 233, 255);
            border: 0.01px solid rgba(20, 63, 112, 0.05);
        }

        div button:hover {
            color: rgba(20, 63, 112, 0.9);
            background-color: rgb(192, 226, 250);
        }

        div p {
            grid-column: a / b;
            padding: 0px;
            color: rgba(13, 47, 83, 0.5);
            font-family: 'Inter', sans-serif;
            font-weight: bolder;
            font-size: 9px;
            text-align: left;
            background-color: rgba(155, 155, 155, 0.0);
        }

        div p span {
            padding: 0px;
            padding-left: 2px;
            font-family: 'Inter', sans-serif;
            font-size: 9px;
        }

        @media (max-width: 8.5in) {
            article {
                grid-template-columns: 1fr 5% [start] 15% 60% [submitcol] 15% [end] 5% 1fr;
            }

            article * {
                padding: 0.3in;
                padding-top: 0.5in;
            }
        }

        #mainInput {
            color: black;
            min-height: 5in;
            background: transparent;
            opacity: 1;
            z-index: 2;
            border-radius: 2px;
        }

        #autocomplete {
            color: rgb(158, 188, 226);
            min-height: 5in;
            cursor: text;
            pointer-events: none;
            box-shadow: 0px 2px 2px 0.2px rgba(192, 192, 192, 0.52);
            border-radius: 2px;
        }
    </style>

    <article>
        <textarea id="autocomplete"></textarea>
        <textarea id="mainInput" id="textarea" name="comments"></textarea>
        <div>
            <button id="submitBtn">SUBMIT</button>
            <p>Word Count:<span id="display_count">0</span></p>
        </div>

    </article>

    <script>
        $(document).ready(function () {

            var mainInput = document.querySelectorAll("#mainInput");
            var bias = 'None';

            $('#mainInput').keyup(function (e) {
                var words = this.value.match(/\S+/g).length;
                $('#display_count').text(words);

                if (e.keyCode == 32) {
                    scrolltobototm();
                    return;
                }

            });

            $("#word_count").on('keyup', function () {
                var words = this.value.match(/\S+/g).length;
                $('#display_count').text(words);
            });

            $("#submitBtn").click(function () {
                submit = mainInput[0].value;
                console.log(submit);
                $.ajax({
                    url: "/submit",
                    type: "POST",
                    data: {
                        text: submit,
                        bias: bias
                    }
                })
            });

            function scrolltobototm() {
                var target = document.getElementById('autocomplete');
                var target1 = document.getElementById('mainInput');
                setInterval(function () {
                    target.scrollTop = target1.scrollHeight;
                }, 1000);
            };

        });
    </script>
</body>

</html>